<div class="card add-lista">
    <h5 class="card-header">Editar cadastro do cliente</h5>
    <div class="card-body">
            <form #f="ngForm" (ngSubmit)="enviarFormularioCadastro(f)" novalidate>
            <div class="form-group">
                <div class="row">
                    <div class="col-sm">
                        <div ngModelGroup="cadastro">
                            <b style="color:red">*</b><label for="nome">Nome</label>
                            <input class="form-control" type="text" name="nome" id="nome" [ngModel]="cliente.nome" #nome="ngModel" required>
                            <div *ngIf="nome?.invalid && (nome?.dirty || nome?.touched)" class="alert alert-danger">
                                <div *ngIf="nome?.errors.required">Nome é obrigatório.</div>
                            </div>                            
                        </div>
                    </div>
                    <div class="col-sm-1">
                        <div ngModelGroup="cadastro">
                            <label for="ddd">DDD</label>
                            <input class="form-control" type="number" name="ddd" id="ddd" [ngModel]="cliente.ddd">
                        </div>
                    </div>
                    <div class="col-sm-2">
                        <div ngModelGroup="cadastro">
                            <label for="telefone">Telefone</label>
                            <input class="form-control" type="tel" name="telefone" [ngModel]="cliente.telefone">
                        </div>
                    </div>
                </div>
            <div class="row">
                <div class="col-sm-3">
                    <div ngModelGroup="cadastro">
                        <label for="dataNascimento">Data de Nascimento</label>
                        <input class="form-control" type="date" name="dataNascimento" [ngModel]="cliente.dataNascimento | date: 'yyyy-MM-dd'">
                    </div>
                </div>
                <div class="col-sm">
                    <div ngModelGroup="cadastro">
                        <label for="rg">RG</label>
                        <input class="form-control" type="number" name="rg" [ngModel]="cliente.rg">
                    </div>
                </div>
                <div class="col-sm">
                    <div ngModelGroup="cadastro">
                        <b style="color:red">*</b><label for="cpf">CPF</label>
                        <input class="form-control" type="number" name="cpf" required="required" [ngModel]="cliente.cpf" #cpf="ngModel" required>
                        <div *ngIf="cpf?.invalid && (cpf?.dirty || cpf?.touched)" class="alert alert-danger">
                            <div *ngIf="cpf?.errors.required">CPF é obrigatório.</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm">
                    <div ngModelGroup="cadastro">
                        <b style="color:red">*</b><label for="endLogradouro">Logradouro</label>
                        <input class="form-control" type="text" name="endLogradouro" [ngModel]="cliente.cadEndereco?.logradouro" #endLogradouro="ngModel" required>
                        <div *ngIf="endLogradouro?.invalid && (endLogradouro?.dirty || endLogradouro?.touched)" class="alert alert-danger">
                            <div *ngIf="endLogradouro?.errors.required">Logradouro é obrigatório.</div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-1">
                    <div ngModelGroup="cadastro">
                        <label for="endNumero">Número</label>
                        <input class="form-control" type="number" name="endNumero" [ngModel]="cliente.cadEndereco?.numero">
                    </div>
                </div>
                <div class="col-sm-4">
                    <div ngModelGroup="cadastro">
                        <label for="endComplemento">Complemento</label>
                        <input class="form-control" type="text" name="endComplemento" [ngModel]="cliente.cadEndereco?.complemento">
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm">
                    <div ngModelGroup="cadastro">
                        <label for="endBairro">Bairro</label>
                        <input class="form-control" type="text" name="endBairro" [ngModel]="cliente.cadEndereco?.bairro">
                    </div>
                </div>
                <div class="col-sm-2">
                    <div ngModelGroup="cadastro">
                        <label for="endCep">CEP</label>
                        <input class="form-control" type="number" name="endCep" [ngModel]="cliente.cadEndereco?.cep">
                    </div>
                </div>
                <div class="col-sm-4">
                    <div ngModelGroup="cadastro">
                        <label for="endCidade">Cidade</label>
                        <select class="form-control" name="endCidade" [ngModel]="cliente.cadEndereco?.cadCidade?.id">
                            <option *ngFor="let cidade of listaCidades" [selected]="cidade.id==cliente.cadEndereco.cadCidade.id" [ngValue]="cidade.id">{{ cidade.nome }}</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm">
                    <div ngModelGroup="cadastro">
                        <label for="endReferencia">Referência</label>
                        <input class="form-control" type="text" name="endReferencia" [ngModel]="cliente.cadEndereco?.referencia">
                    </div>
                </div>
            </div>
        </div>
        <b>Os campos com (</b><b style="color:red">*</b><b>) são obrigatórios!</b>
        <div class=text-right>
            <button type="button" class="btn btn-light btn-sm" (click)="goBack()">Voltar</button>
            <button type="submit" class="btn btn-danger btn-sm ml-1" name="btn-salvar-cliente" data-toggle="modal" data-target="#myModal">Salvar</button>            
        </div>
        </form>
    </div>
</div>
  
<!-- Modal -->
<div class="modal fade" id="myModal">
    <div class="modal-dialog">
    <div class="modal-content">
        
        <!-- Modal body -->
        <div class="modal-body">
            <div *ngIf="response && response == 'Cadastro salvo com sucesso!'">
                <b style="color: green;">{{ response }}</b>
            </div>
            <div *ngIf="response && response != 'Cadastro salvo com sucesso!'">
                <b style="color: red;">{{ response }}</b>
            </div>
            <div *ngIf="!response || response == ''">
                <b style="color: red;">Erro inesperado. Por favor, contate o administrador do sistema!</b>
            </div>
        </div>

        <!-- Modal footer -->
        <div class="modal-footer">
        <button type="button" class="btn btn-danger btn-sm ml-1" data-dismiss="modal">Close</button>
        </div>
        
    </div>
    </div>
</div>